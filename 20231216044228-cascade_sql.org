:PROPERTIES:
:ID:       15fe98c5-b495-4e6f-955a-84d5344415f8
:END:
#+title: CASCADE (SQL)
#+property: header-args :tangle code/sql/cascade.sql


#+BEGIN_SRC sql
CREATE TABLE Customers(CustomerID INT NOT NULL PRIMARY KEY, FullName VARCHAR(100) NOT NULL, PhoneNumber INT NOT NULL UNIQUE);
CREATE TABLE Bookings(
    BookingID INT NOT NULL PRIMARY KEY,
    BookingDate DATE NOT NULL,
    TableNumber INT NOT NULL,
    NumberOfGuests INT NOT NULL CHECK(NumberOfGuests <=8),
    CustomerID INT NOT NULL,
    FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID) ON DELETE CASCADE ON UPDATE CASCADE);
#+END_SRC
