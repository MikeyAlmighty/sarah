:PROPERTIES:
:ID:       fccf2646-2780-4c2c-b6ec-eec04227b5f3
:END:
#+title: Change Checker


- 1. Fetch latest and previous =.mhtml= files from GCS.
- 2. Extract html - from both previous and latest - using puppeteer's =.content()= (=document.documentElement.innerHTML=).
- 3. Feed the .html into a [[https://www.npmjs.com/package/sax][Sax (npm package)]] ([[id:d4e0d315-177d-4e17-a5c0-6686f1c23fb4][SAX parser]]).

Build up  "LiteDOM" from =.mhtml= files.
(Wrapping all *text* with our own (impact) textElement:  =imtxtel=).

CompareBuilder

=ElementSimilarityIndex=
Tag names match *+25%*
Element ID attribute is a match *+25%*

If classname match percentage is greater than (*60%* - defined in config =comparison.css_index=)
We increase by + =matchedPercentage/ 100 * 40= %; (To a maximum of *40%*)
