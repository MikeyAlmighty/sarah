* Upcasting and Downcasting
:PROPERTIES:
:CUSTOM_ID: upcasting-and-downcasting
:ID:       297bc5e8-7b4b-4642-93ae-53e860c6e3cb
:END:
#+begin_src java
package com.demo;

public class Main {
    public static void main(String[] args) {
        // NB: TextBox extends UIControl
        var box1 = new TextBox();
        show(box1); // Get's "upcasted" to a UIControl (As all textboxes are UIControls)
    }

    public static void show(UIControl control) {
        var textBox = (TextBox) control; // Downcasted back to textBox
    }
}
#+end_src

** ClassCast Exception
:PROPERTIES:
:CUSTOM_ID: classcast-exception
:END:
=ClassCast= Exception is thrown when trying to cast "down" to an
incorrect instance:

All TextBox instances are UIControls but *NOT* all UIControl instances
are TextBoxes.

#+begin_src java
package com.demo;

public class Main {
    public static void main(String[] args) {
        var control = new UIControl();
        show(control); // Get's "upcasted" to a UIControl (As all textboxes are UIControls)
    }

    public static void show(UIControl control) {
        // var textBox = (TextBox) control; // ClassCast Exception, need to check if Control here is an instance of TextBox
        if (control instanceof TextBox) {

        }
    }
}
#+end_src
